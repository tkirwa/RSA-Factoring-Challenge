#!/usr/bin/env python3

import sys
import time

def factorize(n):
    for i in range(2, int(n ** 0.5) + 1):
        if n % i == 0:
            return i, n // i
    return None

if __name__ == '__main__':
    if len(sys.argv) < 2:
        print('Usage: factors <file>')
        sys.exit(1)

    filename = sys.argv[1]
    with open(filename) as f:
        for line in f:
            n = int(line.strip())
            start_time = time.monotonic()
            factors = factorize(n)
            elapsed_time = time.monotonic() - start_time
            if factors:
                p, q = factors
                print(f'{n}={p}*{q}')
            else:
                print(f'Could not factorize {n}')
            if elapsed_time > 5:
                print(f'Warning: took {elapsed_time:.2f} seconds to factorize {n}, which is longer than the time limit of 5 seconds.')
